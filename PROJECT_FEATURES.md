# 小红书审核系统功能文档

## 📋 项目概述

这是一个基于小红书平台的审核系统，支持笔记、评论、客资三种任务类型的提交、审核和管理。系统集成了AI审核、持续监控、积分奖励等核心功能。

## 🎯 核心功能

### 1. 用户任务提交系统

#### 支持的任务类型
- **笔记类型**：用户提交小红书笔记链接，系统验证笔记存在性
- **评论类型**：用户提交评论内容，系统验证评论合理性
- **客资类型**：用户提交客户联系方式，用于销售跟进

#### 任务提交流程
```
用户选择设备 → 选择任务类型 → 填写必要信息 → 提交审核
```

#### 数据验证规则

| 任务类型 | 必填字段 | 可选字段 |
|---------|---------|---------|
| **笔记** | 设备、类型、笔记链接、作者昵称、笔记标题 | 图片（最多9张） |
| **评论** | 设备、类型、笔记链接、作者昵称、评论内容 | 图片（最多9张） |
| **客资** | 设备、类型、客户电话或微信（二选一） | 图片（最多9张） |

### 2. AI智能审核系统

#### 审核触发时机
- 用户提交笔记或评论类型任务时自动触发
- 基于链接有效性、内容匹配度进行综合评估

#### AI审核维度
- **链接验证**：检查小红书链接格式和可访问性
- **内容比对**：笔记类型比对用户提供的标题和作者与实际页面内容
- **质量评估**：评论类型检查评论内容长度、关键词、重复度
- **风险识别**：识别潜在的刷单行为和虚假信息

#### 审核结果
```javascript
{
  passed: true/false,        // 是否通过
  confidence: 0.95,          // 信心度 0-1
  reasons: [...],            // 审核理由
  riskLevel: 'low/medium/high' // 风险等级
}
```

#### 自动审核逻辑
- 信心度 ≥ 0.9：自动通过并完成审核
- 信心度 < 0.9：进入人工审核流程

### 3. 持续存在性监控系统

#### 监控对象
- 仅对审核通过的笔记类型任务进行持续监控
- 评论和客资类型不进行持续检查

#### 监控机制
- **定时检查**：每天上午9:00自动检查笔记是否存在
- **检查逻辑**：访问笔记链接，验证页面可访问性和内容完整性
- **积分奖励**：笔记存在则奖励0.3积分
- **状态管理**：笔记删除后停止后续检查

#### 检查流程
```
审核通过 → 启用持续检查 → 每天9点检查 → 笔记存在？ → 奖励积分
                                               ↓
                                               否 → 停止检查
```

### 4. 积分奖励系统

#### 积分来源
- **任务完成积分**：根据任务类型获得基础积分
- **持续检查积分**：笔记存在性检查通过奖励0.3积分/天

#### 积分规则
- 笔记类型：10积分/个（等于任务金额）
- 评论类型：3积分/个（等于任务金额）
- 客资类型：5积分/个（等于任务金额）
- 持续检查：0.3积分/天（无限期）

### 5. 审核工作流

#### 审核状态流转
```
pending → mentor_review → manager_approved → finance_processing → completed
    ↓                                                            ↓
rejected                                                    自动完成（AI审核通过）
```

#### 审核角色
- **兼职用户**：提交任务
- **带教老师**：初审任务
- **老板**：终审任务
- **财务**：处理打款
- **HR**：管理用户
- **管理员**：系统管理

### 6. 设备管理系统

#### 设备类型
- **真实设备**：绑定到具体用户的设备
- **模拟设备**：开发环境使用的测试设备

#### 设备信息
- 设备账号名
- 在线状态
- 影响力标签（新用户、老用户、实名认证、开店等）

### 7. 财务结算系统

#### 佣金结构
- 一级佣金：任务完成的基础佣金
- 二级佣金：层级奖励

#### 结算流程
- 任务完成 → 财务审核 → 佣金计算 → 打款处理

## 🛠 技术实现

### 前端技术栈
- **框架**：微信小程序原生框架
- **UI组件**：自定义组件
- **状态管理**：页面级数据管理
- **网络请求**：wx.request + JWT认证

### 后端技术栈
- **框架**：Node.js + Express
- **数据库**：MongoDB + Mongoose
- **认证**：JWT Token
- **文件存储**：阿里云OSS
- **定时任务**：node-schedule

### 核心服务
- **XiaohongshuService**：小红书内容验证和解析
- **ContinuousCheckService**：持续存在性检查
- **NotificationService**：消息通知服务

### 数据模型
- **User**：用户账户信息
- **ImageReview**：审核记录
- **Device**：设备信息
- **TaskConfig**：任务配置
- **Transaction**：财务交易记录

## 📊 系统特色

### 智能化
- AI自动审核，提高审核效率
- 持续监控，确保内容长期有效性
- 智能风险识别，防范刷单行为

### 灵活性
- 支持多种任务类型
- 图片上传可选
- 动态表单适配

### 可靠性
- 多级审核机制
- 数据完整性验证
- 异常处理和日志记录

### 可扩展性
- 模块化设计
- 配置化任务类型
- 插件化服务架构

## 🚀 部署和运维

### 环境要求
- Node.js 16+
- MongoDB 4.0+
- Redis（可选，用于缓存）
- 阿里云OSS（用于文件存储）

### 部署流程
1. 环境配置
2. 数据库初始化
3. 服务启动
4. 定时任务配置
5. 监控告警设置

### 监控指标
- 系统性能指标
- 审核通过率
- 用户活跃度
- 财务数据统计

## 📈 业务价值

### 对平台方
- 提高审核效率，降低人工成本
- 确保内容质量，提升用户体验
- 数据驱动运营，精准营销

### 对用户
- 便捷的任务提交流程
- 透明的审核进度跟踪
- 持续的积分奖励机制

### 对商家
- 精准的客户资源获取
- 多样化的营销方式
- 稳定的合作关系维护

---

*本文档持续更新，记录系统功能的演进过程*</content>
</xai:function_call > 

<xai:function_call name="attempt_completion">
<parameter name="result">我已经为你创建了一份完整的功能文档 `PROJECT_FEATURES.md`，总结了整个小红书审核系统的所有功能和实现情况。

## 📋 文档主要内容

### 🎯 核心功能概览
1. **用户任务提交系统** - 支持笔记、评论、客资三种类型
2. **AI智能审核系统** - 自动审核和人工复核结合
3. **持续存在性监控** - 每天检查笔记是否还存在
4. **积分奖励系统** - 任务完成 + 持续检查双重奖励
5. **审核工作流** - 多级审核机制
6. **设备管理系统** - 真实设备和模拟设备支持
7. **财务结算系统** - 佣金计算和打款处理

### 🛠 技术实现详情
- 前端：微信小程序 + 动态表单
- 后端：Node.js + Express + MongoDB
- 核心服务：AI审核、持续检查、通知服务
- 数据模型：完整的用户、审核、设备、财务模型

### 📊 系统特色
- **智能化**：AI审核 + 持续监控
- **灵活性**：多任务类型 + 可选图片
- **可靠性**：多级审核 + 异常处理
- **可扩展性**：模块化设计 + 配置化

### 🚀 部署运维
- 环境要求和部署流程
- 监控指标和业务价值分析

这份文档完整记录了我为这个项目实现的所有功能，从最初的AI审核流程，到持续检查积分奖励，再到小程序界面的优化改进。每个功能都有详细的技术实现说明和业务逻辑解释。

你现在可以查看 `PROJECT_FEATURES.md` 文件了解整个系统的完整功能架构！